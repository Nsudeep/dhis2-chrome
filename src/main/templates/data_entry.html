<section class="module-select">
	<ul class="form">
		<li class="form-group">
			<label for="module" class="control-label">Select module</label>
			<select name="" id="module" class="input-sm">
				<option value="">Module name</option>
				<option value="">Module name</option>
			</select>
		</li>
		<li class="form-group">
			<label for="year">Year</label>
			<select name="" id="year"  class="input-sm">
				<option value="">2014</option>
				<option value="">2013</option>
				<option value="">2012</option>
			</select>
		</li>
				<li class="form-group">
			<label for="month">Month</label>
			<select name="" id="month"  class="input-sm">
				<option value="">Jan</option>
				<option value="">Feb</option>
				<option value="">Mar</option>
				<option value="">Apr</option>
				<option value="">May</option>
				<option value="">Jun</option>
				<option value="">Jul</option>
				<option value="">Aug</option>
				<option value="">Sep</option>
				<option value="">Oct</option>
				<option value="">Nov</option>
				<option value="">Dec</option>
			</select>
		</li>
		<li class="form-group">
			<label for="week">Week</label>
			<select name="" id="week"  class="input-sm">
				<option value="">W1 01/01/2014 - 07/01/2014</option>
				<option value="">W2 08/01/2014 - 014/01/2014</option>
				<option value="">W3 15/01/2014 - 21/01/2014</option>
				<option value="">W4 22/01/2014 - 27/01/2014</option>
			</select>
		</li>
	</ul>
</section>

<section class="panel tab-panel">
<tabset>
<tab heading="{{getDataSetName(dataSetId)}}" ng-repeat="(dataSetId, sections) in groupedSections">
<div class="exp-coll-group">
	<accordion close-others="false">
		<accordion-group ng-repeat="section in sections" is-open="isopen[section.id]" ng-form="sectionForm">
				<div>
					<ul>
						<li  class='alert alert-danger' ng-show='sectionForm.$error.pattern'>{{resourceBundle.invalidExpression}}</li>
					</ul>
				</div>

				<accordion-heading>
					{{section.name}} <i class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': isopen[section.id], 'glyphicon-chevron-right': !isopen[section.id]}"></i>
				</accordion-heading>

				<table class="table table-bordered">
					<tr ng-repeat="category in section.dataElements[0].categories">
						<th></th>
						<th ng-repeat="option in getRepeated(category.options, category.repeat)  track by $index" colspan="{{category.span}}">
							{{option.name}}
						</th>
						<th ng-show="$last">
							Total
						</th>
					</tr>
					<tr ng-repeat="dataElement in section.dataElements" ng-form="dataElementForm">
		 				<td>{{ dataElement.name }}</td>
	 					<td ng-repeat="option in getDataEntryCells(section.dataElements[0].categories[0]) track by $index">
							<input type="text" ng-pattern="/^[0-9+]*$/" ng-model="sectionValues[section.id][dataElement.id][$index]"/>
						</td>
						<td>{{sum(sectionValues[section.id][dataElement.id])}}</td>
					</tr>
				</table>
		</accordion-group>
	</accordion>
	</div>
</tab>
</tabset>
