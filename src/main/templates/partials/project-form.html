<div ng-controller="projectController">
	<div ng-show="saveFailure" class="alert alert-danger">{{ resourceBundle.errorProject }}</div>
	<form name="createForm" class="form-horizontal" role="form" novalidate  ng-submit="save(newOrgUnit, orgUnit)">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 ng-if="isEditMode" class="panel-title">Create Project</h3>
				<h3 ng-if="!isEditMode" class="panel-title">Project Details</h3>
			</div>
			<div class="panel-body">
				<ul>
					<li class="form-group">
						<label for="newOrgUnitName" class="col-sm-4 col-md-4 control-label">Name</label>
						<div class="col-sm-6 col-md-6" >
							<input ng-disabled="!isEditMode" type="text" class="form-control" name="newOrgUnitName" id="newOrgUnitName" ng-model="newOrgUnit.name" not-in={{peerProjects}} required/>
							<div ng-show="createForm.newOrgUnitName.$dirty &amp;&amp; createForm.newOrgUnitName.$invalid">
								<span ng-show="createForm.newOrgUnitName.$error.required" class="errortxt">{{resourceBundle.nameValidation}}</span>
							</div>
							<div>
								<span ng-show="createForm.newOrgUnitName.$error.isWithin" class="errortxt">{{resourceBundle.projectExists}}</span>
							</div>
						</div>
					</li>
					<li class="form-group">
						<label for="newOrgUnitLocation" class="col-sm-4 col-md-4  control-label">Location</label>
						<div class="col-sm-6 col-md-6" >
							<input ng-disabled="!isEditMode" type="text" class="form-control" name="newOrgUnitLocation" id="newOrgUnitLocation" ng-model="newOrgUnit.location" required/>
							<div ng-show="createForm.newOrgUnitLocation.$dirty &amp;&amp; createForm.newOrgUnitLocation.$invalid">
								<span ng-show="createForm.newOrgUnitLocation.$error.required"class="errortxt">{{resourceBundle.locationValidation}}</span>
							</div>
						</div>
					</li>
					<li class="form-group">
						<label for="newOrgUnitProjectType" class="col-sm-4 col-md-4  control-label">Type of project</label>
						<div class="col-sm-6 col-md-6" >
							<select ng-disabled="!isEditMode" type="text" class="form-control" name="newOrgUnitProjectType" id="newOrgUnitProjectType" ng-model="newOrgUnit.projectType" ng-options="o as o for o in allProjectTypes" required>
							</select>
							<div ng-show="createForm.newOrgUnitProjectType.$dirty &amp;&amp; createForm.newOrgUnitProjectType.$invalid">
								<span ng-show="createForm.newOrgUnitProjectType.$error.required"class="errortxt">{{resourceBundle.projectTypeValidation}}</span>
							</div>
						</div>
					</li>
					<li class="form-group">
						<label for="newOrgUnitContext" class="col-sm-4 col-md-4 control-label">Context</label>
						<div class="col-sm-6 col-md-6" >
						<select ng-disabled="!isEditMode" type="text" class="form-control" name="newOrgUnitContext" id="newOrgUnitContext" ng-model="newOrgUnit.context" ng-options="o as o for o in allContexts" required></select>
						<div ng-show="createForm.newOrgUnitContext.$dirty &amp;&amp; createForm.newOrgUnitContext.$invalid">
							<span ng-show="createForm.newOrgUnitContext.$error.required"class="errortxt">{{resourceBundle.contextValidation}}</span>
						</div>
					</div>
				</li>
				<li class="form-group">
					<label for="newOrgUnitPopType" class="col-sm-4 col-md-4 control-label">Type of population</label>
					<div class="col-sm-6 col-md-6" >
					<select ng-disabled="!isEditMode" type="text" class="form-control" name="newOrgUnitPopType" id="newOrgUnitPopType" ng-model="newOrgUnit.populationType" ng-options="o as o for o in allPopTypes" required></select>
					<div ng-show="createForm.newOrgUnitPopType.$dirty &amp;&amp; createForm.newOrgUnitPopType.$invalid">
						<span ng-show="createForm.newOrgUnitPopType.$error.required"class="errortxt">{{resourceBundle.populationTypeValidation}}</span>
					</div>
				</div>
			</li>
			
			<li class="form-group">
				<label for="newOrgUnitOpeningDate" class="col-sm-4 col-md-4 control-label">Opening Date</label>
				<div class="col-sm-6 col-md-6" >
					<p class="input-group">
					<input ng-disabled="!isEditMode" type="text" class="form-control" datepicker-popup="yyyy-MM-dd" id="newOrgUnitOpeningDate" name="newOrgUnitOpeningDate" ng-model="newOrgUnit.openingDate" is-open="openingDate" max-date="thisDate" close-text="Close" required/>
					<span class="input-group-btn">
					<button ng-disabled="!isEditMode" class="btn btn-default" ng-click="openOpeningDate($event)"><i class="glyphicon glyphicon-calendar"></i></button>
					</span>
					<div ng-show="createForm.newOrgUnitOpeningDate.$dirty &amp;&amp; createForm.newOrgUnitOpeningDate.$invalid">
						<span ng-show="createForm.newOrgUnitOpeningDate.$error.required"class="errortxt">{{resourceBundle.openingDateValidation}}</span>
					</div>
					</p>
				</div>
			</li>
			<li class="form-group">
				<label for="newOrgUnitEndDate" class="col-sm-4 col-md-4 control-label">End Date</label>
				<div class="col-sm-6 col-md-6" >
					<p class="input-group">
					<input ng-disabled="!isEditMode" type="text" class="form-control" datepicker-popup="yyyy-MM-dd" id="newOrgUnitEndDate" name="newOrgUnitEndDate" ng-model="newOrgUnit.endDate" is-open="endDate" min-date="thisDate" close-text="Close" />
					<span class="input-group-btn">
					<button ng-disabled="!isEditMode" class="btn btn-default" ng-click="openEndDate($event)"><i class="glyphicon glyphicon-calendar"></i></button>
					</span>
					</p>
				</div>
			</li>
			<li ng-if="isEditMode">
				<div class="col-sm-offset-4 col-sm-6 col-md-offset-4 col-md-6">
					<input type="submit" class="btn btn-main" ng-disabled="createForm.$invalid" value="Save"/>
					<input type="button" class="btn" ng-click="reset()" value="Reset">
				</div>
			</li>
		</ul>
	</div>
</div>
</form>
</div>